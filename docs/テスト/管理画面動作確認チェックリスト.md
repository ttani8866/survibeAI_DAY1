# 管理画面動作確認チェックリスト

## 概要
オーナー（管理者）専用管理画面の動作確認チェックリストです。

## 前提条件
- [ ] MongoDB接続済み
- [ ] `.env.local`に`ADMIN_EMAILS`が設定済み
- [ ] 管理者ユーザー（role: "admin"）がDBに登録済み

---

## 1. アクセス制御

### 1.1 管理者アクセス
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 1 | 管理者でログイン後、/adminにアクセスできる | 1. 管理者アカウントでログイン<br>2. `/admin`にアクセス | ダッシュボード画面が表示される | □ |

### 1.2 一般ユーザーアクセス制限
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 2 | 一般ユーザーで/adminにアクセスすると403エラー表示 | 1. 一般ユーザー（role: "user"）でログイン<br>2. `/admin`にアクセス | 403エラー画面が表示される<br>「アクセス権限がありません」メッセージが表示される | □ |

---

## 2. ダッシュボード（/admin）

| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 3 | ダッシュボードに統計情報（ユーザー数、お問合せ数）が表示される | 1. `/admin`にアクセス | 総ユーザー数カードが表示される<br>総お問合せ数カードが表示される<br>数値がDBのデータと一致する | □ |

---

## 3. ユーザー管理（/admin/users）

### 3.1 一覧表示
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 4 | /admin/usersでユーザー一覧が表示される | 1. サイドメニューから「ユーザー管理」をクリック<br>2. または直接`/admin/users`にアクセス | DataGridでユーザー一覧が表示される<br>名前、メール、権限、登録日が表示される | □ |

### 3.2 権限変更
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 5 | ユーザーの権限を変更できる | 1. 対象ユーザーの編集ボタンをクリック<br>2. 権限を変更（user ↔ admin）<br>3. 「更新」をクリック | 権限変更ダイアログが表示される<br>更新後、一覧の権限が変更されている<br>成功メッセージが表示される | □ |
| 5-1 | 自分自身の権限は変更できない | 1. 自分自身のアカウントの編集ボタンをクリック<br>2. 権限を変更して「更新」をクリック | エラーメッセージ「自分自身の権限は変更できません」が表示される | □ |

### 3.3 削除
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 6 | ユーザーを削除できる | 1. 対象ユーザーの削除ボタンをクリック<br>2. 確認ダイアログで「削除」をクリック | 確認ダイアログが表示される<br>削除後、一覧から該当ユーザーが消える<br>成功メッセージが表示される | □ |
| 6-1 | 自分自身は削除できない | 1. 自分自身のアカウントの削除ボタンをクリック<br>2. 確認ダイアログで「削除」をクリック | エラーメッセージ「自分自身は削除できません」が表示される | □ |

---

## 4. お問合せ管理（/admin/contacts）

### 4.1 一覧表示
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 7 | /admin/contactsでお問合せ一覧が表示される | 1. サイドメニューから「お問合せ管理」をクリック<br>2. または直接`/admin/contacts`にアクセス | DataGridでお問合せ一覧が表示される<br>名前、メール、件名、受信日時が表示される | □ |

### 4.2 詳細表示
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 8 | お問合せの詳細を表示できる | 1. 対象お問合せの詳細ボタン（目のアイコン）をクリック | 詳細ダイアログが表示される<br>送信者名、メール、件名、本文、受信日時が表示される | □ |

### 4.3 削除
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 9 | お問合せを削除できる | 1. 対象お問合せの削除ボタンをクリック<br>2. 確認ダイアログで「削除」をクリック | 確認ダイアログが表示される<br>削除後、一覧から該当お問合せが消える<br>成功メッセージが表示される | □ |

---

## 5. 共通機能

### 5.1 ページネーション
| # | 確認項目 | 手順 | 期待結果 | 確認 |
|---|---------|------|----------|------|
| 10 | ページネーションが正しく動作する | 1. ユーザー管理またはお問合せ管理を開く<br>2. 10件以上のデータがある状態で次ページに移動<br>3. ページサイズを変更（10/25/50） | 次ページに正しく移動できる<br>ページサイズ変更が反映される<br>表示件数が正しい | □ |

---

## 確認結果

| 項目 | 結果 |
|------|------|
| 確認日 | 年　　月　　日 |
| 確認者 | |
| 合格項目数 | /12 |
| 不合格項目 | |
| 備考 | |

---

## 不具合記録

| # | 確認項目番号 | 不具合内容 | 再現手順 | 優先度 | 対応状況 |
|---|-------------|-----------|----------|--------|---------|
| | | | | | |

